(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/goAddus"],{2454:function(e,a,t){},"369f":function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"c",(function(){return r})),t.d(a,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},r=[]},"47d6":function(e,a,t){"use strict";var n=t("2454"),r=t.n(n);r.a},"4b8f":function(e,a,t){"use strict";t.r(a);var n=t("369f"),r=t("6fa5");for(var i in r)["default"].indexOf(i)<0&&function(e){t.d(a,e,(function(){return r[e]}))}(i);t("47d6");var s=t("828b"),o=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);a["default"]=o.exports},"6fa5":function(e,a,t){"use strict";t.r(a);var n=t("8382"),r=t.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){t.d(a,e,(function(){return n[e]}))}(i);a["default"]=r.a},7365:function(e,a,t){"use strict";(function(e,a){var n=t("47a9");t("1212");n(t("3240"));var r=n(t("4b8f"));e.__webpack_require_UNI_MP_PLUGIN__=t,a(r.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},8382:function(e,a,t){"use strict";(function(e){var n=t("47a9");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t("7eb4")),i=n(t("ee10")),s=t("dcbd"),o=t("c486"),u={data:function(){return{imgUrl:"",baseUrl:"",odeptName:"",jsradio:"A",radio:"C",modalName:null,optiondata:"",textareaValue:"",username:"",card:"",phone:"",address:"",rules:{username:[{rule:/^.{2,18}$/,message:"请输入姓名"}],card:[{rule:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"请输入正确的身份证"}],phone:[{rule:/^1[0-9]{10,10}$/,message:"请输入正确的手机号"}],address:[{rule:/.+/,message:"请输入住址"}]},noClick:!0,focusclass:{username:!1,card:!1,phone:!1,address:!1}}},onLoad:function(e){this.imgUrl=s.imgUrl,this.baseUrl=s.baseUrl;var a=JSON.parse(e.data);this.optiondata=a,a&&(this.username=a.name,this.card=a.card,this.phone=a.tel,this.address=a.address,this.radio="男"==a.sex?"C":"D",this.textareaValue=a.remark?a.remark:"")},onShow:function(){},onShareAppMessage:function(a){var t=e.getStorageSync("userid"),n="/pages/index/index?userid="+t;return{title:"耀考证",path:n,imageUrl:this.imgUrl+"loginlogo.png"}},onShareTimeline:function(a){var t=e.getStorageSync("userid"),n="/pages/index/index?userid="+t;return{title:"耀考证",path:n,imageUrl:this.imgUrl+"loginlogo.png"}},methods:{RadioChange:function(e){this.radio=e.detail.value},submit:function(){var e=this;e.validate("username")&&e.validate("card")&&e.validate("phone")&&e.validate("address")&&(e.noClick?(e.noClick=!1,e.gosubmit()):(this.$api.msg("已提交请勿重复点击"),setTimeout((function(){e.noClick=!0}),2e3)))},gosubmit:function(){var a=this;return(0,i.default)(r.default.mark((function t(){var n,i,s,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=a,t.prev=1,i={id:n.optiondata.id?n.optiondata.id:"",name:n.username,sex:"C"==n.radio?"男":"女",card:n.card,tel:n.phone,address:n.address,birthday:""},t.next=5,(0,o.getAddMyself)(i);case 5:s=t.sent,u=s.data,console.log(u),200==u.code&&(a.$api.msg("提交成功"),a.optiondata?setTimeout((function(){e.navigateBack({delta:2})}),2e3):setTimeout((function(){e.navigateBack()}),2e3)),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](1);case 13:case"end":return t.stop()}}),t,null,[[1,11]])})))()},validate:function(a){var t=this,n=!0;return this.rules[a].forEach((function(r){if(!r.rule.test(t[a]))return e.showToast({title:r.message,icon:"none"}),n=!1,!1})),n},blur:function(e){this.focusclass[e]=!1}}};a.default=u}).call(this,t("df3c")["default"])}},[["7365","common/runtime","common/vendor"]]]);