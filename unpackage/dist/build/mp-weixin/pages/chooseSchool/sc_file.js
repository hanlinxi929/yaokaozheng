(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/chooseSchool/sc_file"],{"66b9":function(e,a,t){"use strict";(function(e){var n=t("47a9");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t("7eb4")),s=n(t("ee10")),r=t("dcbd"),o=t("c52b"),u={data:function(){return{odeptName:"",jsradio:"A",radio:"C",modalName:null,optiondata:"",textareaValue:"",username:"",jianli:"",phone:"",age:"",rules:{username:[{rule:/^.{2,18}$/,message:"请输入姓名"}],age:[{rule:/.+/,message:"请输入年龄"}],phone:[{rule:/^1[0-9]{10,10}$/,message:"请输入正确的手机号"}]},noClick:!0,focusclass:{username:!1,card:!1,phone:!1,address:!1}}},onShareAppMessage:function(a){var t=e.getStorageSync("userid"),n="/pages/index/index?userid="+t;return{title:"耀考证",path:n,imageUrl:this.imgUrl+"loginlogo.png"}},onShareTimeline:function(a){var t=e.getStorageSync("userid"),n="/pages/index/index?userid="+t;return{title:"耀考证",path:n,imageUrl:this.imgUrl+"loginlogo.png"}},onLoad:function(e){this.imgUrl=r.imgUrl,this.baseUrl=r.baseUrl;var a=JSON.parse(e.data);this.optiondata=a,a&&(this.username=a.name,this.card=a.card,this.phone=a.tel,this.address=a.address,this.radio="男"==a.sex?"C":"D",this.textareaValue=a.remark?a.remark:"")},onShow:function(){},methods:{openTxtFile:function(){var a=this;e.chooseMessageFile({type:"file",success:function(t){var n=t.tempFiles;console.log(n[0].path),e.uploadFile({url:"https://www.rzjswy.cn/hs/api/upload",filePath:n[0].path,name:"file",formData:{appToken:e.getStorageSync("token")},success:function(e){console.log(JSON.parse(e.data).fileName),a.jianli=JSON.parse(e.data).fileName}})}})},RadioChange:function(e){this.radio=e.detail.value},submit:function(){var e=this;e.validate("username")&&e.validate("age")&&e.validate("phone")&&(e.jianli?e.noClick?(e.noClick=!1,e.gosubmit()):(this.$api.msg("已提交请勿重复点击"),setTimeout((function(){e.noClick=!0}),2e3)):this.$api.msg("请上传简历"))},gosubmit:function(){var a=this;return(0,s.default)(i.default.mark((function t(){var n,s,r,u;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=a,t.prev=1,s={userName:n.username,sex:"C"==n.radio?"男":"女",images:n.jianli,tel:n.phone,age:n.age},t.next=5,(0,o.getSignUpAdd)(s);case 5:r=t.sent,u=r.data,console.log(u),200==u.code?(a.$api.msg("提交成功"),setTimeout((function(){e.navigateBack()}),2e3)):(a.$api.msg(u.msg),setTimeout((function(){e.navigateBack()}),2e3)),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),a.$api.msg(data.msg);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},validate:function(a){var t=this,n=!0;return this.rules[a].forEach((function(i){if(!i.rule.test(t[a]))return e.showToast({title:i.message,icon:"none"}),n=!1,!1})),n},blur:function(e){this.focusclass[e]=!1}}};a.default=u}).call(this,t("df3c")["default"])},7082:function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"c",(function(){return i})),t.d(a,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},i=[]},8816:function(e,a,t){},a33d:function(e,a,t){"use strict";t.r(a);var n=t("66b9"),i=t.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){t.d(a,e,(function(){return n[e]}))}(s);a["default"]=i.a},a5fe:function(e,a,t){"use strict";(function(e,a){var n=t("47a9");t("1212");n(t("3240"));var i=n(t("c246"));e.__webpack_require_UNI_MP_PLUGIN__=t,a(i.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},c246:function(e,a,t){"use strict";t.r(a);var n=t("7082"),i=t("a33d");for(var s in i)["default"].indexOf(s)<0&&function(e){t.d(a,e,(function(){return i[e]}))}(s);t("ea8a");var r=t("828b"),o=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);a["default"]=o.exports},ea8a:function(e,a,t){"use strict";var n=t("8816"),i=t.n(n);i.a}},[["a5fe","common/runtime","common/vendor"]]]);