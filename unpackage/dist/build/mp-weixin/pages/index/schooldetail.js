(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/schooldetail"],{2763:function(e,t,i){},"670a":function(e,t,i){"use strict";i.r(t);var a=i("93a8"),n=i("e6c4");for(var d in n)["default"].indexOf(d)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(d);i("9173");var s=i("828b"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"1d34d958",null,!1,a["a"],void 0);t["default"]=o.exports},"6cb0":function(e,t,i){"use strict";(function(e,t){var a=i("47a9");i("1212");a(i("3240"));var n=a(i("670a"));e.__webpack_require_UNI_MP_PLUGIN__=i,t(n.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},"6ee6":function(e,t,i){"use strict";(function(e){var a=i("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,d=a(i("7eb4")),s=a(i("ee10")),o=a(i("7ca3")),l=(i("3240"),i("dcbd")),h=i("c52b"),c=(n={data:function(){var e;return e={modalName:null,imgUrl:"",baseUrl:"",yishoucang:!1,fenxiang:!1,TabCur:0,index:0,scrollLeft:0,jxNavIndex:0,detailetab:[{id:1,name:"院校介绍",htmlId:"js",height:0},{id:2,name:"报名程序",htmlId:"cx",height:0},{id:3,name:"报名资格",htmlId:"zg",height:0},{id:4,name:"入学面试",htmlId:"ms",height:0},{id:5,name:"其他费用",htmlId:"fy",height:0}],schooldetail:"",oid:0,sid:0,tabIndex:0,erweima:"",oneId:"",modelShow:!0,popupData:{overlay:!0,mode:"bottom",borderRadius:"",closeable:!0,closeOnClickOverlay:!0},scroll_top:0,scrollViewHeight:"900rpx",modelHeights:"900rpx"},(0,o.default)(e,"jxNavIndex",0),(0,o.default)(e,"jxHtmlId",""),(0,o.default)(e,"jxNav",[{name:"div1",htmlId:"cp",height:0},{name:"div2",htmlId:"xl",height:0},{name:"div3",htmlId:"tg",height:0}]),(0,o.default)(e,"scrollIntoView","js"),(0,o.default)(e,"isScroll",!0),e},onShareAppMessage:function(t){var i="/pages/index/schooldetail?sid="+this.sid+"&oid="+this.oid+"&oneId="+this.oneId+"&userid="+e.getStorageSync("userid");return this.fenxiang=!0,{title:this.schooldetail.deptName,path:i,imageUrl:this.baseUrl+this.schooldetail.schoolHead}},onShareTimeline:function(t){this.fenxiang=!0;var i="/pages/index/schooldetail?sid="+this.sid+"&oid="+this.oid+"&oneId="+this.oneId+"&userid="+e.getStorageSync("userid");return{title:this.schooldetail.deptName,path:i,imageUrl:this.baseUrl+this.schooldetail.schoolHead}},onShow:function(){e.$on("isshow",(function(e){console.log("监听到事件来自返回的参数："+e),e&&(this.modalName="Modal")}))},mounted:function(){var t=this;this.$nextTick((function(){var i=e.createSelectorQuery().in(t);i.select("#js").boundingClientRect((function(e){t.detailetab[0].height=parseInt(e.height)})).exec(),i.select("#cx").boundingClientRect((function(e){t.detailetab[1].height=parseInt(e.height)})).exec(),i.select("#zg").boundingClientRect((function(e){t.detailetab[2].height=parseInt(e.height)})).exec(),i.select("#ms").boundingClientRect((function(e){t.detailetab[3].height=parseInt(e.height)})).exec(),i.select("#fy").boundingClientRect((function(e){t.detailetab[4].height=parseInt(e.height)})).exec()}))},onLoad:function(t){console.log(t),this.imgUrl=l.imgUrl,this.baseUrl=l.baseUrl,this.sid=t.sid,this.oid=t.oid,this.oneId=t.oneId,console.log(t.userid),t.userid&&e.setStorageSync("sjuserid",t.userid)}},(0,o.default)(n,"onShow",(function(){this.getDetail()})),(0,o.default)(n,"onReady",(function(){})),(0,o.default)(n,"computed",{}),(0,o.default)(n,"created",(function(){var t=this;e.getSystemInfo({success:function(e){console.log(e.windowHeight),t.scrollViewHeight=2*(e.windowHeight-200)+"rpx",t.modelHeights=2*(e.windowHeight-50)+"rpx",console.log("this.modelHeights",t.modelHeights)}})})),(0,o.default)(n,"watch",{modelShow:function(t,i){var a=this;t&&this.$nextTick((function(){var t=e.createSelectorQuery().in(a);t.select("#js").boundingClientRect((function(e){a.detailetab[0].height=parseInt(e.height)})).exec(),t.select("#cx").boundingClientRect((function(e){a.detailetab[1].height=parseInt(e.height)})).exec(),t.select("#zg").boundingClientRect((function(e){a.detailetab[2].height=parseInt(e.height)})).exec(),t.select("#ms").boundingClientRect((function(e){a.detailetab[3].height=parseInt(e.height)})).exec(),t.select("#fy").boundingClientRect((function(e){a.detailetab[4].height=parseInt(e.height)})).exec()}))}}),(0,o.default)(n,"methods",{scrolls:function(e){e.detail.scrollTop<this.detailetab[0].height||0==e.detail.scrollTop?this.jxNavIndex=0:e.detail.scrollTop<this.detailetab[1].height+this.detailetab[0].height?this.jxNavIndex=1:e.detail.scrollTop<this.detailetab[2].height+this.detailetab[1].height+this.detailetab[0].height?this.jxNavIndex=2:e.detail.scrollTop<this.detailetab[3].height+this.detailetab[2].height+this.detailetab[1].height+this.detailetab[0].height?this.jxNavIndex=3:e.detail.scrollTop<this.detailetab[4].height+this.detailetab[3].height+this.detailetab[2].height+this.detailetab[1].height+this.detailetab[0].height&&(this.jxNavIndex=4)},toAnchor:function(e){e.currentTarget.dataset.htmlid;this.jxNavIndex=e.currentTarget.dataset.index,0==this.jxNavIndex?this.scroll_top=0:1==this.jxNavIndex?this.scroll_top=this.detailetab[0].height+5:2==this.jxNavIndex?this.scroll_top=this.detailetab[0].height+this.detailetab[1].height:3==this.jxNavIndex?this.scroll_top=this.detailetab[0].height+this.detailetab[1].height+this.detailetab[2].height:4==this.jxNavIndex&&(this.scroll_top=this.detailetab[0].height+this.detailetab[1].height+this.detailetab[2].height+this.detailetab[3].height)},showModal:function(e){this.modalName=e.currentTarget.dataset.target},hideModal:function(e){this.modalName=null},shoucang:function(){this.yishoucang=!this.yishoucang,this.yishoucang?this.getAdd():this.getDel()},getAdd:function(){var e=this;return(0,s.default)(d.default.mark((function t(){var i,a,n,s;return d.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="200"==e.oneId?"0":"208"==e.oneId?"1":"2",t.prev=1,a={sourceId:e.sid,images:e.schooldetail.schoolHead,type:i},t.next=5,(0,h.getAddCollect)(a);case 5:n=t.sent,s=n.data,200==s.code&&e.$api.msg(s.msg),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getDel:function(){var e=this;return(0,s.default)(d.default.mark((function t(){var i,a,n,s;return d.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="200"==e.oneId?"0":"208"==e.oneId?"1":"2",t.prev=1,a={sourceId:e.sid,images:e.schooldetail.schoolHead,type:i},t.next=5,(0,h.getDelCollect)(a);case 5:n=t.sent,s=n.data,s.code,t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getDetail:function(){var e=this;return(0,s.default)(d.default.mark((function t(){var i,a,n,s;return d.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,t.prev=1,a={id:i.sid,type:"0"},t.next=5,(0,h.getDetailInfo)(a);case 5:n=t.sent,s=n.data,200==s.code?s.data&&(i.schooldetail=s.data,i.yishoucang=s.data.myCollect):e.$api.msg(s.msg),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getAddOrders:function(){var e=this;return(0,s.default)(d.default.mark((function t(){var i,a,n,s;return d.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,t.prev=1,a={sourceId:i.sid,type:0,sourceType:"0",sourceName:i.schooldetail.deptName,referralCode:i.tuijianma},t.next=5,(0,h.getAddOrder)(a);case 5:n=t.sent,s=n.data,200==s.code?e.$api.toPage("index/qrdingdan?oid="+i.oid+"&sid="+i.schooldetail.id+"&ddid="+s.data.id+"&oneId="+i.oneId+"&datas="+JSON.stringify(s.data)):e.$api.msg(s.msg),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},changeTab:function(e){this.tabIndex=e},saveImg:function(){var t=this,i=t.schooldetail.consultingCode;e.downloadFile({url:l.baseUrl+i,success:function(i){200===i.statusCode?e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$api.msg("保存下载成功"),t.hideModal()},fail:function(){t.$api.msg("保存失败，请稍后重试"),t.hideModal()}}):(t.$api.msg("下载失败"),t.hideModal())}})}}),n);t.default=c}).call(this,i("df3c")["default"])},9173:function(e,t,i){"use strict";var a=i("2763"),n=i.n(a);n.a},"93a8":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){return t.stopPropagation(),e.$api.toPage("index/bmxinxi?oid="+e.oid+"&oneId="+e.oneId+"&sid="+e.sid)})},n=[]},e6c4:function(e,t,i){"use strict";i.r(t);var a=i("6ee6"),n=i.n(a);for(var d in a)["default"].indexOf(d)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(d);t["default"]=n.a}},[["6cb0","common/runtime","common/vendor"]]]);