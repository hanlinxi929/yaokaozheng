(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/zigeChooseSchool/qrdingdan"],{5251:function(e,t,a){"use strict";a.r(t);var i=a("f2de"),n=a("9d6e");for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a("e830");var s=a("828b"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);t["default"]=o.exports},"8dd6":function(e,t,a){"use strict";(function(e){var i=a("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("7eb4")),r=i(a("ee10")),s=a("c52b"),o=a("dcbd"),d={data:function(){return{oid:0,sid:0,yhje:"",ddid:0,schooldetail:"",tuijianmas:!1,baseUrl:"",imgUrl:"",tuijianma:"",shadow:!1,modalName:"",youhui:"",heji:"",go_pay:"",weizf:!1,zfitem:"",oneId:"",odata:"",stype:""}},onLoad:function(e){this.imgUrl=o.imgUrl,this.baseUrl=o.baseUrl,this.oid=e.oid,this.sid=e.sid,this.ddid=e.ddid,this.oneId=e.oneId,this.stype=e.type,this.odata=JSON.parse(e.datas);var t=JSON.parse(e.datas);console.log(e.type),t&&(this.yhje=t.referralPrice,this.heji=t.actualPayment,this.tuijianma=t.referralCode,t.referralCode&&(this.tuijianmas=!0)),console.log(this.stype),"1"==this.stype?this.getDetail():this.getDetailtwo()},onShow:function(){},onShareAppMessage:function(t){var a=e.getStorageSync("userid"),i="/pages/index/index?userid="+a;return{title:"耀考证",path:i,imageUrl:this.imgUrl+"loginlogo.png"}},onShareTimeline:function(t){var a=e.getStorageSync("userid"),i="/pages/index/index?userid="+a;return{title:"耀考证",path:i,imageUrl:this.imgUrl+"loginlogo.png"}},methods:{showModal:function(e){this.modalName=e.currentTarget.dataset.target},hideModal:function(e){this.modalName=null},SetShadow:function(){this.tuijianma="",this.shadow=!this.shadow,0==this.shadow&&(this.tuijianma="0",this.goGetUpReferralCode())},qxGetUpReferralCode:function(){this.tuijianma="",this.yhje=" ",this.tuijianmas=!1,this.goGetUpReferralCode()},goGetUpReferralCode:function(){var e=this;return(0,r.default)(n.default.mark((function t(){var a,i,r,o;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.prev=1,i={id:a.ddid,referralCode:a.tuijianma?a.tuijianma:"0"},t.next=5,(0,s.getzgUpReferralCode)(i);case 5:r=t.sent,o=r.data,200==o.code?o.data&&(e.yhje=o.data.referralPrice,e.heji=o.data.actualPayment,e.tuijianma=o.data.referralCode,e.tuijianma?e.tuijianmas=!0:e.tuijianmas=!1,e.hideModal()):(e.tuijianmas=!1,e.$api.msg(o.msg)),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getDetail:function(){var e=this;return(0,r.default)(n.default.mark((function t(){var a,i,r,o;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.prev=1,i={id:a.sid,type:parseInt(a.stype)},t.next=5,(0,s.getzgDetailInfo)(i);case 5:r=t.sent,o=r.data,200==o.code?o.data&&(a.schooldetail=o.data):e.$api.msg(o.msg),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getDetailtwo:function(){var e=this;return(0,r.default)(n.default.mark((function t(){var a,i,r,o;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.prev=1,i={id:a.sid,type:parseInt(a.stype)},t.next=5,(0,s.gethomePagegetInfo)(i);case 5:r=t.sent,o=r.data,200==o.code?o.data&&(a.schooldetail=o.data):e.$api.msg(o.msg),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},submitPay:function(){var e=this;return(0,r.default)(n.default.mark((function t(){var a,i,r,o;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.prev=1,i={id:a.ddid},t.next=5,(0,s.getMiniAppPay)(i);case 5:r=t.sent,o=r.data,200==o.code?(e.zfitem=o.data,e.wxPay()):e.$api.msg(o.msg),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},wxPay:function(){var t=JSON.parse(decodeURIComponent(this.zfitem));console.log(t),e.requestPayment({appId:t.appId,provider:"wxpay",timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:function(t){setTimeout((function(){e.$emit("isshow",!0),e.navigateBack({delta:1})}),500)},fail:function(t){console.log(t),e.showToast({title:"支付失败",icon:"none"})}})}}};t.default=d}).call(this,a("df3c")["default"])},"9d6e":function(e,t,a){"use strict";a.r(t);var i=a("8dd6"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=n.a},"9f04":function(e,t,a){},b604:function(e,t,a){"use strict";(function(e,t){var i=a("47a9");a("1212");i(a("3240"));var n=i(a("5251"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(n.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},e830:function(e,t,a){"use strict";var i=a("9f04"),n=a.n(i);n.a},f2de:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this.$createElement;this._self._c},n=[]}},[["b604","common/runtime","common/vendor"]]]);