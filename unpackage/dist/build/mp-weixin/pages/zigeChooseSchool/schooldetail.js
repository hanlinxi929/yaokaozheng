(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/zigeChooseSchool/schooldetail"],{"191d":function(e,t,i){},5195:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={mpHtml:function(){return Promise.all([i.e("common/vendor"),i.e("components/mp-html/mp-html")]).then(i.bind(null,"38e2"))}},n=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){return t.stopPropagation(),e.$api.toPage("zigeChooseSchool/bmxinxi?oid="+e.oid+"&oneId="+e.oneId+"&sid="+e.sid)})},o=[]},"5ded":function(e,t,i){"use strict";(function(e,t){var a=i("47a9");i("1212");a(i("3240"));var n=a(i("727e"));e.__webpack_require_UNI_MP_PLUGIN__=i,t(n.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},7023:function(e,t,i){"use strict";(function(e){var a=i("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=a(i("7eb4")),d=a(i("ee10")),s=a(i("7ca3")),l=(i("3240"),i("dcbd")),h=i("c52b"),c=(n={data:function(){var e;return e={modalName:null,imgUrl:"",baseUrl:"",yishoucang:!1,TabCur:0,index:0,scrollLeft:0,jxNavIndex:0,detailetab:[{id:1,name:"报名条件",htmlId:"zc",height:0},{id:2,name:"报名时间",htmlId:"wx",height:0},{id:3,name:"考试时间",htmlId:"xm",height:0},{id:4,name:"其他费用",htmlId:"lc",height:0}],schooldetail:"",oid:0,sid:0,tabIndex:0,erweima:"",oneId:"",modelShow:!0,popupData:{overlay:!0,mode:"bottom",borderRadius:"",closeable:!0,closeOnClickOverlay:!0},scroll_top:0,fenxiang:!1,scrollViewHeight:"900rpx",modelHeights:"900rpx"},(0,s.default)(e,"jxNavIndex",0),(0,s.default)(e,"jxHtmlId",""),(0,s.default)(e,"jxNav",[{name:"div1",htmlId:"zc",height:0},{name:"div2",htmlId:"wx",height:0},{name:"div3",htmlId:"xm",height:0},{name:"div4",htmlId:"lc",height:0}]),(0,s.default)(e,"scrollIntoView","js"),(0,s.default)(e,"isScroll",!0),e},onShareAppMessage:function(t){this.fenxiang=!0;var i="/pages/zigeChooseSchool/schooldetail?sid="+this.sid+"&oid="+this.oid+"&oneId="+this.oneId+"&userid="+e.getStorageSync("userid");return{title:this.schooldetail.deptName,path:i,imageUrl:this.baseUrl+this.schooldetail.schoolHead}},onShareTimeline:function(t){this.fenxiang=!0;var i="/pages/zigeChooseSchool/schooldetail?sid="+this.sid+"&oid="+this.oid+"&oneId="+this.oneId+"&userid="+e.getStorageSync("userid");return{title:this.schooldetail.deptName,path:i,imageUrl:this.baseUrl+this.schooldetail.schoolHead}},onShow:function(){e.$on("isshow",(function(e){console.log("监听到事件来自返回的参数："+e),e&&(this.modalName="Modal")}))},mounted:function(){var t=this;this.$nextTick((function(){var i=e.createSelectorQuery().in(t);i.select("#zc").boundingClientRect((function(e){t.detailetab[0].height=parseInt(e.height)})).exec(),i.select("#wx").boundingClientRect((function(e){t.detailetab[1].height=parseInt(e.height)})).exec(),i.select("#xm").boundingClientRect((function(e){t.detailetab[2].height=parseInt(e.height)})).exec(),i.select("#lc").boundingClientRect((function(e){t.detailetab[3].height=parseInt(e.height)})).exec()}))},onLoad:function(t){console.log(t),this.imgUrl=l.imgUrl,this.baseUrl=l.baseUrl,this.sid=t.sid,this.oid=t.oid,this.oneId=t.oneId,console.log(t.userid),t.userid&&e.setStorageSync("sjuserid",t.userid)}},(0,s.default)(n,"onShow",(function(){this.getDetail()})),(0,s.default)(n,"onReady",(function(){})),(0,s.default)(n,"computed",{}),(0,s.default)(n,"created",(function(){var t=this;e.getSystemInfo({success:function(e){console.log(e.windowHeight),t.scrollViewHeight=2*(e.windowHeight-200)+"rpx",t.modelHeights=2*(e.windowHeight-50)+"rpx",console.log("this.modelHeights",t.modelHeights)}})})),(0,s.default)(n,"watch",{modelShow:function(t,i){var a=this;t&&this.$nextTick((function(){var t=e.createSelectorQuery().in(a);t.select("#zc").boundingClientRect((function(e){a.detailetab[0].height=parseInt(e.height)})).exec(),t.select("#wx").boundingClientRect((function(e){a.detailetab[1].height=parseInt(e.height)})).exec(),t.select("#xm").boundingClientRect((function(e){a.detailetab[2].height=parseInt(e.height)})).exec(),t.select("#lc").boundingClientRect((function(e){a.detailetab[3].height=parseInt(e.height)})).exec()}))}}),(0,s.default)(n,"methods",{scrolls:function(e){e.detail.scrollTop<this.detailetab[0].height||0==e.detail.scrollTop?this.jxNavIndex=0:e.detail.scrollTop<this.detailetab[1].height+this.detailetab[0].height?this.jxNavIndex=1:e.detail.scrollTop<this.detailetab[2].height+this.detailetab[1].height+this.detailetab[0].height?this.jxNavIndex=2:e.detail.scrollTop<this.detailetab[3].height+this.detailetab[2].height+this.detailetab[1].height+this.detailetab[0].height?this.jxNavIndex=3:e.detail.scrollTop<this.detailetab[4].height+this.detailetab[3].height+this.detailetab[2].height+this.detailetab[1].height+this.detailetab[0].height&&(this.jxNavIndex=4)},toAnchor:function(e){e.currentTarget.dataset.htmlid;this.jxNavIndex=e.currentTarget.dataset.index,0==this.jxNavIndex?this.scroll_top=0:1==this.jxNavIndex?this.scroll_top=this.detailetab[0].height+5:2==this.jxNavIndex?this.scroll_top=this.detailetab[0].height+this.detailetab[1].height:3==this.jxNavIndex?this.scroll_top=this.detailetab[0].height+this.detailetab[1].height+this.detailetab[2].height:4==this.jxNavIndex&&(this.scroll_top=this.detailetab[0].height+this.detailetab[1].height+this.detailetab[2].height+this.detailetab[3].height)},showModal:function(e){this.modalName=e.currentTarget.dataset.target},hideModal:function(e){this.modalName=null},shoucang:function(){this.yishoucang=!this.yishoucang,this.yishoucang?this.getAdd():this.getDel()},getAdd:function(){var e=this;return(0,d.default)(o.default.mark((function t(){var i,a,n,d;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="200"==e.oneId?"0":"208"==e.oneId?"1":"2",t.prev=1,a={sourceId:e.sid,images:e.schooldetail.schoolHead,type:i},t.next=5,(0,h.getAddCollect)(a);case 5:n=t.sent,d=n.data,200==d.code&&e.$api.msg(d.msg),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getDel:function(){var e=this;return(0,d.default)(o.default.mark((function t(){var i,a,n,d;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="200"==e.oneId?"0":"208"==e.oneId?"1":"2",t.prev=1,a={sourceId:e.sid,images:e.schooldetail.schoolHead,type:i},t.next=5,(0,h.getDelCollect)(a);case 5:n=t.sent,d=n.data,d.code,t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getDetail:function(){var e=this;return(0,d.default)(o.default.mark((function t(){var i,a,n,d;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,t.prev=1,a={id:i.sid,type:"1"},t.next=5,(0,h.getzgDetailInfo)(a);case 5:n=t.sent,d=n.data,200==d.code?d.data&&(i.schooldetail=d.data,i.yishoucang=d.data.myCollect):e.$api.msg(d.msg),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getAddOrders:function(){var e=this;return(0,d.default)(o.default.mark((function t(){var i,a,n,d;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,t.prev=1,a={sourceId:i.sid,type:0,sourceType:"1",sourceName:i.schooldetail.deptName,referralCode:i.tuijianma},t.next=5,(0,h.getzgAddOrder)(a);case 5:n=t.sent,d=n.data,200==d.code?e.$api.toPage("zigeChooseSchool/qrdingdan?type=1&oid="+i.oid+"&sid="+i.schooldetail.id+"&ddid="+d.data.id+"&oneId="+i.oneId+"&datas="+JSON.stringify(d.data)):e.$api.msg(d.msg),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},changeTab:function(e){this.tabIndex=e},saveImg:function(){var t=this,i=t.schooldetail.consultingCode;e.downloadFile({url:l.baseUrl+i,success:function(i){200===i.statusCode?e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$api.msg("保存下载成功"),t.hideModal()},fail:function(){t.$api.msg("保存失败，请稍后重试"),t.hideModal()}}):(t.$api.msg("下载失败"),t.hideModal())}})}}),n);t.default=c}).call(this,i("df3c")["default"])},"727e":function(e,t,i){"use strict";i.r(t);var a=i("5195"),n=i("7599");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("9cbc");var d=i("828b"),s=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"30a8b675",null,!1,a["a"],void 0);t["default"]=s.exports},7599:function(e,t,i){"use strict";i.r(t);var a=i("7023"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"9cbc":function(e,t,i){"use strict";var a=i("191d"),n=i.n(a);n.a}},[["5ded","common/runtime","common/vendor"]]]);