(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/invoice/sqinvoice"],{"0fbe":function(e,a,n){"use strict";(function(e){var t=n("47a9");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=t(n("7eb4")),r=t(n("ee10")),s=n("dcbd"),u=n("c486"),o={data:function(){return{index:-1,index1:-1,TabCur:0,TabCur1:0,scrollLeft:0,fapiaodetail:"",scrollLeft1:0,picker:["喵喵喵","汪汪汪","哼唧哼唧"],modalName:null,imgUrl:"",qyname:"",qyadd:"",qyphone:"",khyh:"",yhnumber:"",nsnumber:"",username:"",card:"",sid:"",orderType:"",jg:"",rules:{qyname:[{rule:/.+/,message:"请输入企业名称"}],nsnumber:[{rule:/.+/,message:"请输入纳税识别号"}],qyadd:[{rule:/.+/,message:"请输入企业地址"}],qyphone:[{rule:/.+/,message:"请输入企业电话"}],khyh:[{rule:/.+/,message:"请输入开户银行"}],yhnumber:[{rule:/.+/,message:"请输入银行账号"}],username:[{rule:/^.{2,18}$/,message:"请输入姓名"}],card:[{rule:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"请输入正确的身份证"}]},noClick:!0,focusclass:{qyname:!1,nsnumber:!1,qyadd:!1,qyphone:!1,khyh:!1,yhnumber:!1,username:!1,card:!1},leixing:[{name:"普通发票"},{name:"增值税发票"}],ttleixing:[{name:"企业"},{name:"个人"}]}},onShareAppMessage:function(a){var n=e.getStorageSync("userid"),t="/pages/index/index?userid="+n;return{title:"耀考证",path:t,imageUrl:this.imgUrl+"loginlogo.png"}},onShareTimeline:function(a){var n=e.getStorageSync("userid"),t="/pages/index/index?userid="+n;return{title:"耀考证",path:t,imageUrl:this.imgUrl+"loginlogo.png"}},onLoad:function(e){if(this.imgUrl=s.imgUrl,this.sid=e.id,this.orderType=e.orderType,this.jg=e.jg,e.fapiaodetail){var a=JSON.parse(e.fapiaodetail);this.fapiaodetail=a,0==a.headingType?(this.username=a.invoiceHeader,this.card=a.taxIdentification,this.TabCur1=0==a.headingType?"1":"0",this.TabCur=0==a.invoiceType?"0":"1"):(this.qyname=a.invoiceHeader,this.nsnumber=a.taxIdentification,this.qyadd=a.companyAddress,this.qyphone=a.invoicePhone,this.khyh=a.bankDeposit,this.yhnumber=a.bankAccount,this.TabCur1=0==a.headingType?"1":"0",this.TabCur=0==a.invoiceType?"0":"1")}},methods:{tabSelect:function(e){this.TabCur=e.currentTarget.dataset.id,this.scrollLeft=60*(e.currentTarget.dataset.id-1)},tabSelect1:function(e){this.TabCur1=e.currentTarget.dataset.id,this.scrollLeft1=60*(e.currentTarget.dataset.id-1),this.qyname="",this.qyadd="",this.qyphone="",this.khyh="",this.yhnumber="",this.nsnumber="",this.username="",this.card=""},PickerChange:function(e){this.index=e.detail.value},submit:function(){var e=this;if(e.noClick){if(e.noClick=!1,"0"==e.TabCur1){if(!e.validate("qyname"))return;if(!e.validate("nsnumber"))return;if(!e.validate("qyadd"))return;if(!e.validate("qyphone"))return;if(!e.validate("khyh"))return;if(!e.validate("yhnumber"))return}else{if(!e.validate("username"))return;if(!e.validate("card"))return}e.gosubmit(),setTimeout((function(){e.noClick=!0}),2e3)}else this.$api.msg("已提交请勿重复点击")},gosubmit:function(){var a=this;return(0,r.default)(i.default.mark((function n(){var t,r,s,o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=a,n.prev=1,r={orderId:t.sid,id:a.fapiaodetail?a.fapiaodetail.id:"",orderType:parseInt(t.orderType),invoiceType:parseInt(t.TabCur),invoiceHeader:"0"==t.TabCur1?t.qyname:t.username,invoicingAmount:parseFloat(t.jg),headingType:"0"==t.TabCur1?1:0,invoicePhone:t.qyphone,taxIdentification:"0"==t.TabCur1?t.nsnumber:t.card,bankDeposit:t.khyh,companyAddress:t.qyadd,bankAccount:t.yhnumber},n.next=5,(0,u.getaddZcInvoice)(r);case 5:s=n.sent,o=s.data,console.log(o),200==o.code?(a.$api.msg("提交成功"),a.fapiaodetail?setTimeout((function(){e.navigateBack({delta:2})}),2e3):setTimeout((function(){e.navigateBack()}),2e3)):a.$api.msg(o.msg),n.next=13;break;case 11:n.prev=11,n.t0=n["catch"](1);case 13:case"end":return n.stop()}}),n,null,[[1,11]])})))()},validate:function(a){var n=this,t=!0;return this.rules[a].forEach((function(i){if(!i.rule.test(n[a]))return e.showToast({title:i.message,icon:"none"}),t=!1,!1})),t},blur:function(e){this.focusclass[e]=!1}}};a.default=o}).call(this,n("df3c")["default"])},7395:function(e,a,n){},"8cb2":function(e,a,n){"use strict";var t=n("7395"),i=n.n(t);i.a},a07d:function(e,a,n){"use strict";n.d(a,"b",(function(){return t})),n.d(a,"c",(function(){return i})),n.d(a,"a",(function(){}));var t=function(){var e=this.$createElement;this._self._c},i=[]},b06a:function(e,a,n){"use strict";n.r(a);var t=n("0fbe"),i=n.n(t);for(var r in t)["default"].indexOf(r)<0&&function(e){n.d(a,e,(function(){return t[e]}))}(r);a["default"]=i.a},c31c:function(e,a,n){"use strict";n.r(a);var t=n("a07d"),i=n("b06a");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(a,e,(function(){return i[e]}))}(r);n("8cb2");var s=n("828b"),u=Object(s["a"])(i["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],void 0);a["default"]=u.exports},cffa:function(e,a,n){"use strict";(function(e,a){var t=n("47a9");n("1212");t(n("3240"));var i=t(n("c31c"));e.__webpack_require_UNI_MP_PLUGIN__=n,a(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])}},[["cffa","common/runtime","common/vendor"]]]);